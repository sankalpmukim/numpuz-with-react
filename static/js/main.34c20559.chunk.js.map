{"version":3,"sources":["Components/Square.js","Components/Board.js","Components/Timer.js","Context/UserContext.js","Context/UserReducer.js","Context/AuthFunctions.js","Components/Time.js","Components/TableEntry.js","Components/TableHeader.js","Components/Leaderboard.js","Components/LeaderboardSignedIn.js","Components/LeaderboardMenu.js","Context/utils.js","Components/Game.js","index.js"],"names":["Square","props","className","onClick","value","Board","squares","slice","map","_","idx","squareClick","style","gridSize","Timer","Math","floor","time","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Store","React","createContext","displayName","useStore","useContext","UserProvider","children","initialState","reducer","useReducer","globalState","dispatch","Provider","LOGIN","LOGOUT","user","auth","firestore","SignIn","useAuthState","display","justifyContent","provider","GoogleAuthProvider","signInWithPopup","type","payload","login","SignOut","currentUser","signOut","Time","TableEntry","currUid","uid","document","userName","score","photoUrl","colSpan","rank","width","src","alt","TableEntryRef","forwardRef","ref","TableHeader","Component","Leaderboard","query","collection","String","orderBy","useCollectionData","idField","allEntries","useState","top","setTop","topRef","createRef","userRef","entry","alignItems","e","current","scrollIntoView","behavior","block","inline","LeaderboardSignedIn","LeaderboardMenu","generateInitArray","initArray","Array","from","length","index","sort","random","swapArrayElements","arr","indexA","indexB","temp","Game","setGridSize","setSquares","won","setWon","setTime","isActive","setIsActive","useEffect","console","log","localStorage","getItem","JSON","parse","data","setItem","stringify","leaderboardRef","doc","get","then","exists","update","createdAt","FieldValue","serverTimestamp","set","photoURL","alert","newSquares","indexOf","SIZE","sqrt","sortedArray","a","b","i","arraysEqual","interval","setInterval","clearInterval","movable","mover","BEGIN","verticalChange","horizontalChange","htmlFor","onChange","event","Number","target","id","min","max","ReactDOM","render","StrictMode","state","action","Error","getElementById"],"mappings":"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","file":"static/js/main.34c20559.chunk.js","sourcesContent":["import \"../index.css\";\n\nconst Square = (props) => (\n  <div className=\"square\" onClick={() => props.onClick()}>\n    {props.value}\n  </div>\n);\n\nexport default Square;\n","import \"../CSS/Board.css\";\nimport Square from \"./Square\";\n// class Board extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       gridSize: 4,\n//     };\n//   }\n//   render() {\n//     const gridSize = this.state.gridSize;\n//     const squares = Array(gridSize * gridSize)\n//       .fill(null)\n//       .map((num, idx) => <Square key={idx} />);\n//     return <div className=\"board\">{squares}</div>;\n//   }\n// }\n\nconst Board = (props) => {\n  let squares = props.squares.slice();\n  squares = squares.map((_, idx) => (\n    <Square\n      onClick={() => props.squareClick(idx)}\n      key={squares[idx]}\n      value={squares[idx]}\n    />\n  ));\n\n  return (\n    <div className=\"board\" style={{ \"--grid-size\": props.gridSize }}>\n      {squares}\n    </div>\n  );\n};\n\nexport default Board;\n","import \"../index.css\";\n\nconst Timer = (props) => {\n  return (\n    <div className=\"timer\">\n      <span className=\"digits\">\n        {(\"0\" + Math.floor((props.time / 60000) % 60)).slice(-2)}:\n      </span>\n      <span className=\"digits\">\n        {(\"0\" + Math.floor((props.time / 1000) % 60)).slice(-2)}.\n      </span>\n      <span className=\"digits mili-sec\">\n        {(\"0\" + ((props.time / 10) % 100)).slice(-2)}\n      </span>\n    </div>\n  );\n};\nexport default Timer;\n","import React from \"react\";\nimport firebase from \"firebase\";\nconst config = {\n  apiKey: \"AIzaSyDBixDXHM4NCrY27GGRPP3X7SozpeUNjzw\",\n  authDomain: \"numpuz-c8a36.firebaseapp.com\",\n  projectId: \"numpuz-c8a36\",\n  storageBucket: \"numpuz-c8a36.appspot.com\",\n  messagingSenderId: \"188829020133\",\n  appId: \"1:188829020133:web:5b1c6f9c42aea6c584c90c\",\n  measurementId: \"G-J8LHBKCHE8\",\n};\nfirebase.initializeApp(config);\n\nconst Store = React.createContext();\nStore.displayName = \"Store\";\n\nexport const useStore = () => React.useContext(Store);\n\nexport const UserProvider = ({ children, initialState, reducer }) => {\n  const [globalState, dispatch] = React.useReducer(reducer, initialState);\n\n  return (\n    <Store.Provider value={[globalState, dispatch]}>{children}</Store.Provider>\n  );\n};\n","import firebase from \"firebase\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nexport const LOGIN = \"APP/AUTH/LOGIN\";\nexport const LOGOUT = \"APP/AUTH/LOGOUT\";\nexport const AUTH = \"APP/AUTH/ADD_AUTH\";\nexport const FIRESTORE = \"APP/AUTH/ADD_FIRESTORE\";\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\nexport const initialState = {\n  user: null,\n  auth: auth,\n  firestore: firestore,\n};\n\nexport const login = (user) => ({\n  type: LOGIN,\n  payload: user,\n});\nexport const logout = () => ({\n  type: LOGOUT,\n});\n// export const auth = (auth) => ({\n//   type: AUTH,\n//   auth: auth,\n// });\n// export const firestore = (firestore) => ({\n//   type: FIRESTORE,\n//   firestore: firestore,\n// });\n\nexport const userReducer = (state = initialState, action) => {\n  let data = {};\n  switch (action.type) {\n    case LOGIN:\n      data = {\n        ...state,\n        user: action.payload,\n      };\n      break;\n    case LOGOUT:\n      data = {\n        ...state,\n        user: null,\n      };\n      break;\n    // case AUTH:\n    //   data = {\n    //     ...state,\n    //     auth: action.payload,\n    //   };\n    //   break;\n    default:\n      throw new Error(\"Invalid Dispatch operation\");\n  }\n  return data;\n};\n","import firebase from \"firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useStore } from \"./UserContext\";\nimport { login, logout } from \"./UserReducer\";\nimport \"../CSS/Leaderboard.css\";\n\nexport const SignIn = () => {\n  const [{ auth }, dispatch] = useStore();\n  const [user] = useAuthState(auth);\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n    dispatch(login(user));\n  };\n\n  return (\n    <div className=\"leaderboard full\">\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n        }}\n      >\n        <button className=\"sign-in\" onClick={signInWithGoogle}>\n          Sign in with Google\n        </button>\n      </div>\n\n      <p>\n        Do not violate the community guidelines or you will be banned for life!\n      </p>\n    </div>\n  );\n};\nexport const SignOut = () => {\n  const [{ auth }, dispatch] = useStore();\n  return (\n    auth.currentUser && (\n      <button\n        className=\"sign-out\"\n        onClick={() => {\n          dispatch(logout());\n          auth.signOut();\n        }}\n      >\n        Sign Out\n      </button>\n    )\n  );\n};\n","import \"../CSS/Leaderboard.css\";\n\nconst Time = (props) => {\n  return (\n    <td>\n      <span className=\"time score\">\n        {(\"0\" + Math.floor((props.time / 60000) % 60)).slice(-2)}:\n      </span>\n      <span className=\"time score\">\n        {(\"0\" + Math.floor((props.time / 1000) % 60)).slice(-2)}.\n      </span>\n      <span className=\"time mili-sec score\">\n        {(\"0\" + ((props.time / 10) % 100)).slice(-2)}\n      </span>\n    </td>\n  );\n};\nexport default Time;\n","import { forwardRef } from \"react\";\nimport { useStore } from \"../Context/UserContext\";\nimport Time from \"./Time\";\n\nexport const TableEntry = (props) => {\n  const [{ auth }] = useStore();\n  const currUid = auth.currentUser.uid;\n  const { userName, score, photoUrl, uid } = props.document;\n  const className = currUid === uid ? \"current-user\" : \"\";\n  return (\n    <tr className={className}>\n      <td colSpan=\"1\">{props.rank}</td>\n      <td\n        colSpan=\"1\"\n        style={{\n          width: \"4rem\",\n        }}\n      >\n        <img src={photoUrl} alt={userName + \"'s photo.\"} className=\"image\" />\n      </td>\n      <td colSpan=\"1\">{userName}</td>\n      <Time time={score} />\n    </tr>\n  );\n};\nexport const TableEntryRef = forwardRef((props, ref) => {\n  const [{ auth }] = useStore();\n  const currUid = auth.currentUser.uid;\n  const { userName, score, photoUrl, uid } = props.document;\n  const className = currUid === uid ? \"current-user\" : \"\";\n  return (\n    <tr ref={ref} className={className}>\n      <td colSpan=\"1\">{props.rank}</td>\n      <td\n        colSpan=\"1\"\n        style={{\n          width: \"4rem\",\n        }}\n      >\n        <img src={photoUrl} alt={userName + \"'s photo.\"} className=\"image\" />\n      </td>\n      <td colSpan=\"1\">{userName}</td>\n      <Time time={score} />\n    </tr>\n  );\n});\n","import React, { Component } from \"react\";\n\nexport default class TableHeader extends Component {\n  render() {\n    return (\n      <thead>\n        <tr>\n          <th>#</th>\n          <th\n            style={{\n              width: \"4rem\",\n            }}\n          >\n            Image\n          </th>\n          <th>Username</th>\n          <th>Best Score</th>\n        </tr>\n      </thead>\n    );\n  }\n}\n","import { createRef, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport { useStore } from \"../Context/UserContext\";\nimport { TableEntry, TableEntryRef } from \"./TableEntry\";\nimport TableHeader from \"./TableHeader\";\nimport \"../CSS/Leaderboard.css\";\n\nconst Leaderboard = (props) => {\n  const [{ auth, firestore }] = useStore();\n  const [user] = useAuthState(auth);\n  const entryRef = firestore.collection(String(props.gridSize));\n  const query = entryRef.orderBy(\"score\", \"asc\");\n  const [allEntries] = useCollectionData(query, { idField: \"uid\" });\n  //   useEffect(() => {}, [allEntries]);\n  const [top, setTop] = useState(true);\n  const topRef = createRef();\n  const userRef = createRef();\n  // const index = (allEntries, user) => {\n  //   for (let index = 0; index < allEntries.length; index++) {\n  //     const entry = allEntries[index];\n  //     if (entry.uid === user.uid) {\n  //       return index;\n  //     }\n  //   }\n  //   return -1;\n  // };\n  return (\n    user && (\n      <div>\n        <div className=\"table-container\">\n          <table>\n            <TableHeader />\n            <tbody>\n              {allEntries &&\n                allEntries.map((entry, idx) => {\n                  if (idx === 0) {\n                    return (\n                      <TableEntryRef\n                        key={entry.uid}\n                        document={entry}\n                        rank={idx + 1}\n                        ref={topRef}\n                      />\n                    );\n                  }\n                  if (entry.uid !== user.uid) {\n                    return (\n                      <TableEntry\n                        key={entry.uid}\n                        document={entry}\n                        rank={idx + 1}\n                      />\n                    );\n                  } else {\n                    return (\n                      <TableEntryRef\n                        key={entry.uid}\n                        document={entry}\n                        rank={idx + 1}\n                        ref={userRef}\n                      />\n                    );\n                  }\n                })}\n            </tbody>\n          </table>\n        </div>\n\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <button\n            onClick={(e) => {\n              if (top) {\n                if (userRef.current !== null) {\n                  userRef.current.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\",\n                    inline: \"nearest\",\n                  });\n                }\n                setTop(false);\n              } else {\n                topRef.current.scrollIntoView({\n                  behavior: \"smooth\",\n                  block: \"start\",\n                  inline: \"nearest\",\n                });\n                setTop(true);\n              }\n            }}\n          >\n            {top ? \"Scroll to you\" : \"Scroll to top\"}\n          </button>\n        </div>\n      </div>\n    )\n  );\n};\nexport default Leaderboard;\n\n// export default class Table extends Component {\n//     constructor(props) {\n//       super(props)\n//       this.state = {\n//         data: []\n//       }\n//       this.componentDidMount = this.componentDidMount.bind(this)\n//       this.handleSort = this.handleSort.bind(this)\n//     }\n\n//     componentDidMount() {\n//       fetch('https://fcctop100.herokuapp.com/api/fccusers/top/recent')\n//         .then((response) => response.json())\n//         .then((json) => this.setState({\n//           data: json\n//       }))\n//     }\n\n//     handleSort(attribute) {\n//       this.setState({\n//         data: this.state.data.sort(\n//           (a,b) => parseInt(a[attribute], 10) > parseInt(b[attribute], 10) ? -1 : 1\n//       )})\n//     }\n\n//     render() {\n//       const rows = this.state.data.map((row, index) =>\n//         <Tablerow\n//           key={row.username}\n//           position={index + 1}\n//           username={row.username}\n//           alltime={row.alltime}\n//           recent={row.recent}\n//           className={index % 2 === 0 ? 'pure-table-odd' : ''}\n//         />)\n\n//       return (\n//         <table className=\"pure-table\">\n//           <Tablehead onChange={this.handleSort} />\n//           <tbody>\n//             { rows }\n//           </tbody>\n//         </table>\n//       )\n//     }\n//   }\n","import { SignOut } from \"../Context/AuthFunctions\";\nimport Leaderboard from \"./Leaderboard\";\nimport \"../CSS/Leaderboard.css\";\n\nconst LeaderboardSignedIn = (props) => {\n  return (\n    <div className=\"leaderboard full\">\n      <div className=\"full\">\n        <div className=\"full\">\n          You are logged in as {props.user.displayName}\n        </div>\n        <SignOut />\n      </div>\n\n      <Leaderboard gridSize={props.gridSize} />\n    </div>\n  );\n};\nexport default LeaderboardSignedIn;\n","import LeaderboardSignedIn from \"./LeaderboardSignedIn\";\nimport { SignIn } from \"../Context/AuthFunctions\";\nimport { useStore } from \"../Context/UserContext\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport \"../CSS/Leaderboard.css\";\n\nconst LeaderboardMenu = (props) => {\n  const [{ auth }] = useStore();\n  const [user] = useAuthState(auth);\n  return user ? (\n    <LeaderboardSignedIn user={user} gridSize={props.gridSize} />\n  ) : (\n    <SignIn />\n  );\n};\nexport default LeaderboardMenu;\n","const generateInitArray = (gridSize) => {\n  const initArray = Array.from({ length: gridSize * gridSize }, (_, index) =>\n    String(index + 1)\n  );\n  // initArray[initArray.length - 1] = String(initArray.length - 1);\n  // initArray[initArray.length - 2] = \"##\";\n  // return initArray;\n  initArray[initArray.length - 1] = \"##\";\n  initArray.sort(() => Math.random() - 0.5);\n  return initArray;\n};\n\nconst swapArrayElements = (arr, indexA, indexB) => {\n  const temp = arr[indexA];\n  arr[indexA] = arr[indexB];\n  arr[indexB] = temp;\n  return arr;\n};\n\nconst arraysEqual = (a, b) => {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n  if (a.length !== b.length) return false;\n\n  for (let i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) return false;\n  }\n  return true;\n};\n\nexport { generateInitArray, swapArrayElements, arraysEqual };\n","import React, { useState, useEffect } from \"react\";\nimport Board from \"./Board\";\nimport Timer from \"./Timer\";\nimport LeaderboardMenu from \"./LeaderboardMenu\";\nimport \"../index.css\";\nimport {\n  generateInitArray,\n  swapArrayElements,\n  arraysEqual,\n} from \"../Context/utils\";\nimport firebase from \"firebase\";\nimport { useStore } from \"../Context/UserContext\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\n// const auth = firebase.auth();\nconst Game = () => {\n  const [gridSize, setGridSize] = useState(4);\n  const [squares, setSquares] = useState(generateInitArray(gridSize));\n  const [won, setWon] = useState(false);\n  const [time, setTime] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n  const [{ auth, firestore }] = useStore();\n  const [user] = useAuthState(auth);\n  useEffect(() => {\n    if (won && user) {\n      console.log(user.uid);\n      if (localStorage.getItem(gridSize) !== null) {\n        console.log(\"won\");\n        if (\n          typeof JSON.parse(localStorage.getItem(gridSize))[user.uid] ===\n            \"undefined\" ||\n          (typeof JSON.parse(localStorage.getItem(gridSize))[user.uid] !==\n            \"undefined\" &&\n            JSON.parse(localStorage.getItem(gridSize))[user.uid] > time)\n        ) {\n          const data = {\n            ...JSON.parse(localStorage.getItem(gridSize)),\n          };\n          data[user.uid] = time;\n          localStorage.setItem(gridSize, JSON.stringify(data));\n        }\n      } else {\n        const data = {};\n        data[user.uid] = time;\n        localStorage.setItem(gridSize, JSON.stringify(data));\n      }\n    }\n  }, [won, user, time, gridSize]);\n  useEffect(() => {\n    // console.log(\"in on change won\");\n    if (won && user) {\n      console.log(user.uid);\n      const leaderboardRef = firestore\n        .collection(String(gridSize))\n        .doc(user.uid);\n      leaderboardRef.get().then((doc) => {\n        if (!doc.exists) {\n          leaderboardRef.set({\n            uid: user.uid,\n            createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n            userName: user.displayName,\n            photoUrl: user.photoURL,\n            score: time,\n          });\n        } else {\n          const { score } = doc.data();\n          if (score > time) {\n            leaderboardRef.update({\n              createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n              score: time,\n            });\n          }\n        }\n      });\n      if (localStorage.getItem(gridSize) !== null) {\n        console.log(\"won\");\n        if (\n          typeof JSON.parse(localStorage.getItem(gridSize))[user.uid] ===\n            \"undefined\" ||\n          (typeof JSON.parse(localStorage.getItem(gridSize))[user.uid] !==\n            \"undefined\" &&\n            JSON.parse(localStorage.getItem(gridSize))[user.uid] > time)\n        ) {\n          const data = {\n            ...JSON.parse(localStorage.getItem(gridSize)),\n          };\n          data[user.uid] = time;\n          localStorage.setItem(gridSize, JSON.stringify(data));\n        }\n      } else {\n        const data = {};\n        data[user.uid] = time;\n        localStorage.setItem(gridSize, JSON.stringify(data));\n      }\n    }\n  }, [won, user, time, gridSize, firestore]);\n  useEffect(() => {\n    if (gridSize < 2 || gridSize > 10) {\n      alert(\"Gridsize can only be between 2 and 10!\");\n      setGridSize(4);\n    } else {\n      setSquares(generateInitArray(gridSize));\n      setIsActive(false);\n    }\n  }, [gridSize]);\n  useEffect(() => {\n    if (user === null) {\n      setSquares(generateInitArray(gridSize));\n      setIsActive(false);\n      setWon(false);\n      setTime(0);\n    }\n  }, [user, gridSize]);\n  useEffect(() => {\n    const newSquares = squares.slice();\n    if (newSquares.indexOf(\"##\") === -1) {\n      setWon(true);\n      return;\n    }\n    const SIZE = Math.sqrt(newSquares.length);\n    const sortedArray = Array.from({ length: SIZE * SIZE }, (_, index) =>\n      String(index + 1)\n    );\n    newSquares[newSquares.indexOf(\"##\")] = String(newSquares.length);\n    if (arraysEqual(newSquares, sortedArray)) {\n      console.log(\"Game won\");\n      // setTime(0);\n      setIsActive(false);\n      setWon(true);\n      return;\n    }\n    setWon(false);\n  }, [squares]);\n  useEffect(() => {\n    let interval = null;\n    if (isActive) {\n      interval = setInterval(() => {\n        setTime((time) => time + 100);\n      }, 100);\n    } else {\n      clearInterval(interval);\n    }\n    return () => {\n      clearInterval(interval);\n    };\n  }, [isActive]);\n\n  const movable = (idx) => {\n    const mover = squares.indexOf(\"##\");\n    // Horizontal:-1\n    // Vertical:1\n    // Not possible:0\n    if (idx === mover) {\n      return 0;\n    }\n    if (idx % gridSize === mover % gridSize) {\n      return 1;\n    } else {\n      const BEGIN = mover - (mover % gridSize);\n      if (idx >= BEGIN && idx <= BEGIN + gridSize - 1) {\n        return -1;\n      }\n      return 0;\n    }\n  };\n\n  const verticalChange = (idx, mover) => {\n    // console.log(gridSize);\n    let newSquares = squares.slice();\n    if (idx < mover) {\n      while (newSquares.indexOf(\"##\") !== idx) {\n        newSquares = swapArrayElements(\n          newSquares,\n          newSquares.indexOf(\"##\"),\n          newSquares.indexOf(\"##\") - gridSize\n        );\n      }\n    } else if (idx > mover) {\n      while (newSquares.indexOf(\"##\") !== idx) {\n        // console.log(gridSize);\n        // console.log(newSquares);\n        newSquares = swapArrayElements(\n          newSquares,\n          newSquares.indexOf(\"##\"),\n          newSquares.indexOf(\"##\") + gridSize\n        );\n      }\n    }\n    setSquares(newSquares);\n  };\n\n  const horizontalChange = (idx, mover) => {\n    let newSquares = squares.slice();\n    if (idx < mover) {\n      while (newSquares.indexOf(\"##\") !== idx) {\n        newSquares = swapArrayElements(\n          newSquares,\n          newSquares.indexOf(\"##\"),\n          newSquares.indexOf(\"##\") - 1\n        );\n      }\n    } else if (idx > mover) {\n      while (newSquares.indexOf(\"##\") !== idx) {\n        newSquares = swapArrayElements(\n          newSquares,\n          newSquares.indexOf(\"##\"),\n          newSquares.indexOf(\"##\") + 1\n        );\n      }\n    }\n    setSquares(newSquares);\n  };\n\n  const handleClick = (i) => {\n    // console.log(i);\n    if (!isActive && won === false) {\n      setIsActive(true);\n      setTime(0);\n    }\n    if (movable(i) !== 0 && won === false) {\n      if (movable(i) === 1) {\n        verticalChange(i, squares.indexOf(\"##\"));\n      } else {\n        horizontalChange(i, squares.indexOf(\"##\"));\n      }\n    }\n  };\n\n  return (\n    <div>\n      <h1>Number puzzle!</h1>\n      <div className=\"game\">\n        <Board\n          squares={squares}\n          gridSize={gridSize}\n          squareClick={handleClick}\n        />\n        <div className=\"details\">\n          <label htmlFor=\"number\">\n            <h3>\n              Decide grid size:\n              <input\n                type=\"number\"\n                value={gridSize}\n                onChange={(event) => {\n                  setSquares(generateInitArray(gridSize));\n                  setIsActive(false);\n                  setWon(false);\n                  setTime(0);\n                  setGridSize(Number(event.target.value));\n                }}\n                id=\"number\"\n                min=\"2\"\n                max=\"10\"\n              />\n            </h3>\n          </label>\n          <div>\n            <h3>{won ? \"Game won\" : \"Game not won\"}</h3>\n          </div>\n          <div>\n            <button\n              className=\"my-button\"\n              onClick={() => {\n                setSquares(generateInitArray(gridSize));\n                setIsActive(false);\n                setWon(false);\n                setTime(0);\n              }}\n            >\n              Reset board\n            </button>\n          </div>\n          <Timer time={time} />\n          <LeaderboardMenu gridSize={gridSize} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Game;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Game from \"./Components/Game\";\nimport { UserProvider } from \"./Context/UserContext\";\nimport { initialState, userReducer } from \"./Context/UserReducer\";\n\n// ========================================\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider initialState={initialState} reducer={userReducer}>\n      <Game />\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}